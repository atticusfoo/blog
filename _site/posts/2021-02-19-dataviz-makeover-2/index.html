<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Re-Presenting Data: Dataviz Makeover 2</title>

<meta property="description" itemprop="description" content="Re-imagining YouGov&#39;s survey on attitudes and opinions towards COVID-19 vaccination."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-02-19"/>
<meta property="article:created" itemprop="dateCreated" content="2021-02-19"/>
<meta name="article:author" content="Atticus Foo"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Re-Presenting Data: Dataviz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Re-imagining YouGov&#39;s survey on attitudes and opinions towards COVID-19 vaccination."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Re-Presenting Data"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Re-Presenting Data: Dataviz Makeover 2"/>
<meta property="twitter:description" content="Re-imagining YouGov&#39;s survey on attitudes and opinions towards COVID-19 vaccination."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Dataviz Makeover 2"]},{"type":"character","attributes":{},"value":["Re-imagining YouGov's survey on attitudes and opinions towards COVID-19 vaccination."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Atticus Foo"]},{"type":"character","attributes":{},"value":["https://public.tableau.com/profile/atticusfoo#!/"]}]}]},{"type":"character","attributes":{},"value":["02-19-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[6]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/header-attrs-2.6/header-attrs.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js","images/A1 Makeover Graphic.PNG","images/A2 Final Dashboard.PNG","images/A2 Finaldashboardv1.PNG","images/A2 Makeover.png","images/A2 Makeoverv1.PNG","images/A3 Makeover Confidence.png","images/A4 Makeover Waffle.PNG","images/A5 neutrals centre.PNG","images/B1Mockup Sketch.jpg","images/B2 Neutrals Side.png","images/B3 ToolTip.jpg","images/C1 Union.png","images/C10 Exclude Filter.PNG","images/C11 SORT.PNG","images/C12 Colours.PNG","images/C2 Pivot.PNG","images/C3 QID.PNG","images/C4 Answers.PNG","images/C5 Scores.PNG","images/C6 CF Positive.PNG","images/C7 CF Negative.PNG","images/C8 PosNeg.PNG","images/C9 Dual Axis.PNG","images/D1 Error Plot.PNG","images/D2 Zscores.png","images/D3 Prop SE.png","images/D4 Plot1.PNG","images/D5 Path.PNG","images/D6 Dual Axis.PNG","images/D7 Syncrhonise.PNG","images/E1 Bar chart.PNG","images/e2 age waffle.PNG","images/E3 Waffle Template.PNG","images/E4 Waffle skeleton.png","images/E5 age groups binning.PNG","images/E6 Formula.PNG","images/F1 Chart.PNG","images/F1.PNG","images/F2 Select Worksheets.PNG","images/F3 Tooltip.PNG","images/F4 Cosmetic.PNG","images/G0.PNG","images/G1 Asian.PNG","images/G1.PNG","images/G2 Female worry potential side effects.PNG","images/G2 Frespondents.PNG","images/G2 Gov will provide.PNG","images/G2 Worried abou the side effects female.png","images/G2 Worried about side effects of the vaccine.PNG","images/G3 I am worried about getting covid.PNG","images/G3 I will get covid19 vaccine.PNG","images/G3 Old Waffle Gov will provide.PNG","images/G3 Old Waffle.PNG","images/G3 Older Singaporeans.PNG","images/G3 Waffle Will Get Covid.PNG","images/G3 Will I Get Covid.PNG","images/G3 Worried abuot side effects.PNG","images/G4 govwillprovidevaccine.png","images/G4 willgetvaccine.png","images/G4 worriedgetcovid19.png","images/G5 Error Bar.PNG"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Dataviz Makeover 2","description":"Re-imagining YouGov's survey on attitudes and opinions towards COVID-19 vaccination.","authors":[{"author":"Atticus Foo","authorURL":"https://public.tableau.com/profile/atticusfoo#!/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-02-19T00:00:00.000+08:00","citationText":"Foo, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Re-Presenting Data</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../dataviz.html">DataViz Makeover</a>
<a href="../../vap.html">Visual Analytics Project</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Dataviz Makeover 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Re-imagining YouGov’s survey on attitudes and opinions towards COVID-19 vaccination.</p></p>
</div>

<div class="d-byline">
  Atticus Foo <a href="https://public.tableau.com/profile/atticusfoo#!/" class="uri">https://public.tableau.com/profile/atticusfoo#!/</a> 
  
<br/>02-19-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#assessment-of-visualisation-based-on-clarity-and-aesthetics">#1 Assessment of visualisation based on clarity and aesthetics</a>
<ul>
<li><a href="#clarity">1.1 Clarity</a>
<ul>
<li><a href="#titles-and-legends-have-not-been-edited">1.1.1 Titles and legends have not been edited</a></li>
<li><a href="#visualising-uncertainty">1.1.2 Visualising uncertainty</a></li>
<li><a href="#juxtaposition-of-different-types-of-bar-charts">1.1.3 Juxtaposition of different types of bar charts</a></li>
<li><a href="#axis-values-not-sorted">1.1.4 Axis values not sorted</a></li>
</ul></li>
<li><a href="#aesthetics">1.2 Aesthetics</a>
<ul>
<li><a href="#use-of-colours">1.2.1 Use of colours</a></li>
<li><a href="#legends">1.2.2 Legends</a></li>
<li><a href="#gridlines">1.2.3 Gridlines</a></li>
</ul></li>
</ul></li>
<li><a href="#sketch-of-alternate-design">#2 Sketch of alternate design</a></li>
<li><a href="#proposed-visualisation-in-tableau">#3 PROPOSED VISUALISATION IN TABLEAU</a></li>
<li><a href="#step-by-step-guide">#4 Step-by-step guide</a>
<ul>
<li><a href="#data-preparation">Data Preparation</a></li>
<li><a href="#plotting-the-diverging-bar-chart-with-neutrals-aside">Plotting the Diverging Bar Chart with Neutrals Aside</a></li>
<li><a href="#creating-the-error-bar-on-dot-plot">Creating the Error Bar on Dot Plot</a></li>
<li><a href="#creating-the-waffle-chart">Creating the Waffle Chart</a></li>
<li><a href="#creating-the-dashboard">Creating the Dashboard</a></li>
</ul></li>
<li><a href="#analysis">#5 Analysis</a>
<ul>
<li><a href="#asian-countries-south-korea-singapore-and-japan-less-pro-covid-19-vaccine">5.1 Asian Countries, South Korea, Singapore and Japan less pro-COVID-19 vaccine?</a></li>
<li><a href="#worried-about-the-potential-side-effects-of-the-vaccine.">5.2 Worried about the potential side-effects of the vaccine.</a></li>
<li><a href="#older-singaporeand-who-are-unemployed-may-be-at-risk">5.3 Older Singaporeand who are unemployed may be at risk</a></li>
<li><a href="#low-response-rates-may-affect-results">5.4 Low Response Rates May Affect Results</a></li>
</ul></li>
<li><a href="#references">#References:</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-page">
<div class="figure"><span id="fig:unnamed-chunk-1"></span>
<img src="images/A2%20Makeoverv1.PNG" alt="After Makeover." width="75%" />
<p class="caption">
Figure 1: After Makeover.
</p>
</div>
</div>
<h1 id="overview">Overview</h1>
<p>As COVID-19 vaccines roll-out across the globe, the actual vaccination rates can vary due to various reasons including political ones. For the purposes of this data-makeover, we will focus on the opinions and attitudes of respondents towards COVID-19 and the vaccination around the world. Data is taken from the Imperial College London YouGov Covid 19 Behaviour Tracker Data Hub <a href="https://github.com/YouGov-Data/covid-19-tracker">here</a>.</p>
<p>This post will attempt to re-present (makeover) the chart found in the next section, applying techniques learned in Professor Kam’s <a href="https://wiki.smu.edu.sg/2021t2isss608/DataViz">class</a> on visualising uncertainty, as well as Steve Wexler’s extensive thoughts on <a href="https://www.datarevelations.com/visualizing-survey-data/#scale">presenting ‘neutral’ values</a>. The following sections can be found below:</p>
<ul>
<li>#1 Assessment of visualisation based on clarity and aesthetics</li>
<li>#2 Sketch of alternate design</li>
<li>#3 Proposed visualisation in Tableau</li>
<li>#4 Step-by-step guide</li>
<li>#5 Insights from the visualisation</li>
</ul>
<h1 id="assessment-of-visualisation-based-on-clarity-and-aesthetics">#1 Assessment of visualisation based on clarity and aesthetics</h1>
<figure>
<img src="images/A1%20Makeover%20Graphic.PNG" alt="Source: Before" /><figcaption aria-hidden="true">Source: Before</figcaption>
</figure>
<p>Without the context of the primary communication intent of the above chart, it is difficult to provide an assessment of how it can be improved. As such,the critique below will be based solely on the rubrics of <em>clarity</em> and <em>aesthetics</em>.</p>
<h2 id="clarity">1.1 Clarity</h2>
<h3 id="titles-and-legends-have-not-been-edited">1.1.1 Titles and legends have not been edited</h3>
<p>• The current titles are not the most intuitive – as the corresponding charts do not convey the intended message. For instance, the first chart is labelled ‘which country is more pro-vaccine’, but the corresponding chart is a representation of how respondents in respective countries voted on a scale of 1 to 5. As such, it is not very clear how the first chart conveys the intended message, as the chart on the right would suffice. There is also a small typographical error in the title of the first chart.</p>
<p>• The subtitles of both charts % of Total Record and % Strongly Agreed, should be edited.</p>
<h3 id="visualising-uncertainty">1.1.2 Visualising uncertainty</h3>
<p>• As data in the charts are represented as percentages, it is not possible to get a sense of the proportion of respondents from each country. As such, readers would assume that the values presented in the charts are equal and consistently reproducible to the same degree. Survey data can be impacted by various factors such as the number of respondents involved (thus affecting Confidence Intervals).</p>
<h3 id="juxtaposition-of-different-types-of-bar-charts">1.1.3 Juxtaposition of different types of bar charts</h3>
<p>• The use of a 100% stacked bar chart on the left helps readers to easily compare values easily as they have a common baseline in 0% and 100%. However, in terms of clarity, the use of different bar charts (stacked bar chart on the left and horizontal bar chart on the right) may detract as the same value will appear visually different. This is not helped by the different treatment of the X-axis in both charts, with the first chart using 0 to 100% and the second chart ending at 60%. As a result, the value of ‘strongly agree’ on the left would look different from the one on the right even though they are of the same value.</p>
<h3 id="axis-values-not-sorted">1.1.4 Axis values not sorted</h3>
<p>• The Y-axis of the chart on the left is sorted alphabetically while the chart on the right is sorted in descending order. As the categories in the y-axis of both charts are the same (countries), they should be sorted for visual clarity and allow readers to more easily reference both charts at once. This can be sorted by volume of those who are more agreeable to vaccination – to reflect the crux of message found in the chart title.</p>
<p>• Additionally, as both charts will have the same Y-axis, the country labels on the second chart can be removed to reduce visual clutter.</p>
<h2 id="aesthetics">1.2 Aesthetics</h2>
<h3 id="use-of-colours">1.2.1 Use of colours</h3>
<p>• The choice of colours is good as it is contrasty and is generally able to help readers discern the differences between the discrete categories found in the chart. Further improvements could be made if the choice of colours were more deliberate. For instance, the current selection of red to represent value 3 (neutral) could be replaced with grey, a colour that is more universally accepted as neutral.</p>
<p>• This is similar for the selection of green which is generally associated with ‘agree’ or ‘positive’ rather than its current representation which is ‘strongly disagree’. This is repeated in the choice of orange, which is placed beside red/neutral, but actually reflects ‘agree’.</p>
<p>• As the categories selected are on a Likert scale, dual colours with variances could have been employed in order to highlight the differences in choices along the scale.</p>
<h3 id="legends">1.2.2 Legends</h3>
<p>• In terms of placement, the colour legend on the right could be placed nearer to the chart on the left for easier visual reference. It also assumes that readers have prior knowledge as to what the categorical values 2, 3 and 4 mean as they are currently unlabelled. It is also unclear what ‘Vac 1’ means.</p>
<p>• In terms of order, the order of the colours for legend could be reversed so that it matches the chart on the left where the colours go from green to blue, instead of the current order which is blue to green.</p>
<h3 id="gridlines">1.2.3 Gridlines</h3>
<p>• The use of gridlines in the second chart help to negate the use of value labels which would add to clutter and distract from the overall presentation of the chat. This can be improved by using narrow bands for the tick-marks as the current 20% increment is quite wide, making it difficult to visualise accurately. This is not helped by the fact that most of the values fall between 20% to 45%.</p>
<h1 id="sketch-of-alternate-design">#2 Sketch of alternate design</h1>
<figure>
<img src="images/B1Mockup%20Sketch.jpg" alt="Source: Sketch of alternative" /><figcaption aria-hidden="true">Source: Sketch of alternative</figcaption>
</figure>
<p>The sketch above shows a diverging bar chart with the neutrals placed to the side. This is because we want to give stronger emphasis to the stronger views by placing them in the center of the chart.</p>
<p><img src="images/A5%20neutrals%20centre.PNG" alt="Source: Neutrals Center" /> When the neutrals were placed in the center of the chart, it makes it difficult for the reader to compare the strongest values taken from the survey.</p>
<figure>
<img src="images/B2%20Neutrals%20Side.png" alt="Source: Neutrals Side" /><figcaption aria-hidden="true">Source: Neutrals Side</figcaption>
</figure>
<p>Initially, we wanted to place the neutrals on the outside but this would mean artificially splitting the neutrals. This was not ideal as the neutral value was neither positive nor negative. As such, we would attempt to place the data to the side.</p>
<p>In terms of colours, we re-arranged the values according to colour temperature as well as contrast. We will also sort the countries (Y-Axis) so that both axis are consistent for easier visual referencing. In terms of visualising uncertainty, we want to add a confidence interval, to suggest the range of values that the respondents of the respective country were most likely to select. This would be marked at the 95% interval.</p>
<figure>
<img src="images/B3%20ToolTip.jpg" alt="Source: Tooltip" /><figcaption aria-hidden="true">Source: Tooltip</figcaption>
</figure>
<p>As there is a lot useful demographic data collected by You Gov, we wanted to see if we could apply this to the dashboard in the form of an interactive tool-tip – and to see if any discernible findings could be made.</p>
<h1 id="proposed-visualisation-in-tableau">#3 PROPOSED VISUALISATION IN TABLEAU</h1>
<div class="layout-chunk" data-layout="l-page">
<div class="figure"><span id="fig:unnamed-chunk-2"></span>
<img src="images/A2%20Final%20Dashboard.PNG" alt="Data Re-presented." width="75%" />
<p class="caption">
Figure 2: Data Re-presented.
</p>
</div>
</div>
<p>This visualisation was built using Tableau Desktop Professional Edition 2020.40 and can be found <a href="https://public.tableau.com/profile/atticusfoo#!/vizhome/DataVizMakeover2_16137217369900/Dashboard1">here</a></p>
<p>The key changes made in the data visualisation is explained and outlined in the paper sketch above. The Likert Scale used in the YouGov survey has been reproduced in a diverging stacked bar chart with the neutral values at the side.</p>
<p>Instead of a bar chart on the right, we have adopted the line and dot chart in order to present the range of values that more likely to occur for the response ‘Strongly Agree’. More granularity is also added – so as to present differences between male and female responses (if any).</p>
<figure>
<img src="images/A4%20Makeover%20Waffle.PNG" alt="Source: Waffle Chart" /><figcaption aria-hidden="true">Source: Waffle Chart</figcaption>
</figure>
<p>For the tool tip, we experimented with the waffle chart (since it was more space efficient) to visualise demographic data (age groups and employment status). However, this implementation was not ideal and can be improved in further iterations. Finally A series of five questions can be selected with the data applying to both charts at once.</p>
<h1 id="step-by-step-guide">#4 Step-by-step guide</h1>
<p>The following steps will provide a brief overview of how the visualisation was completed.</p>
<h3 id="data-preparation">Data Preparation</h3>
<p>The data used for the visualisations were taken from the Imperial College London YouGov Covid 19 Behaviour Tracker Data Hub <a href="https://github.com/YouGov-Data/covid-19-tracker">here</a>.</p>
<figure>
<img src="images/C1%20Union.png" alt="Source: Data Union" /><figcaption aria-hidden="true">Source: Data Union</figcaption>
</figure>
<p>As the data is separated in different countries, the different csv files have to be extracted. Using Tableau’s union function, we be able to join the files together.</p>
<p>We will need to hide unnecessary fields – such as demographic data or other health related questions. This is because we want to focus specifically on questions related to vaccination. We can do this by clicking “Manage Metadata” and then hiding the selected fields.</p>
<p>The fields we want to retain are country, age, gender, household size, number of children in household, employment status and questions related to the vaccine (vac2_1, vac2_2, vac2_3, vac2_6 and vac3).</p>
<figure>
<img src="images/C2%20Pivot.PNG" alt="Source: Data Pivot" /><figcaption aria-hidden="true">Source: Data Pivot</figcaption>
</figure>
<p>After checking the field names using Tableau’s Data Prep to ensure that they are accurately categorised (e.g. numeric and string), we want to select all the question fields and pivot the values as seen in the photo above.</p>
<p>Next we want create additional fields for QuestionID as well as Answers and Scores The latter two categories are to create string and integer values for the responses. The screenshots including the codes can be found in the photos below.</p>
<p><img src="images/C3%20QID.PNG" alt="Source: CF1" /> <img src="images/C4%20Answers.PNG" alt="Source: CF2" /> <img src="images/C5%20Scores.PNG" alt="Source: CF3" /></p>
<h3 id="plotting-the-diverging-bar-chart-with-neutrals-aside">Plotting the Diverging Bar Chart with Neutrals Aside</h3>
<p>With the data prepared, we can begin plotting the first chart – which is the diverging bar chart. To do this, we will need to prepare the data by sorting the responses (strongly disagree, disagree, neutral, agree, strongly agree) into proportions (percentages). To do this, we will first create a ‘dummy’ field called Number of Records Ref before we can start preparing the calculated fields.</p>
<figure>
<img src="images/C6%20CF%20Positive.PNG" alt="Source: CF Positive" /><figcaption aria-hidden="true">Source: CF Positive</figcaption>
</figure>
<p>As seen in the photo above, the field [Positive %] is defined as: SUM(IF [Score]&gt;=4 then 1, else 0 END)/ SUM([Number of Records Ref]). This calculates the sum of both agree and strongly agree responses divided by the total number of responses. Repeat this to get the percentage for negative as well as neutral (neutral = 3) responses as seen in the screenshot below.</p>
<figure>
<img src="images/C7%20CF%20Negative.PNG" alt="Source: CF Negative" /><figcaption aria-hidden="true">Source: CF Negative</figcaption>
</figure>
<p>In order to show the 4 levels of sentiment, we will need to need to create another calculated field [POSNEG]. The exclude statement ensures that Tableau doesn’t double count each of the 5 levels of sentiment.</p>
<figure>
<img src="images/C8%20PosNeg.PNG" alt="Source: CF POSNEG" /><figcaption aria-hidden="true">Source: CF POSNEG</figcaption>
</figure>
<p>To plot this chart, we will need to place the calculated field [POSNEG] and [Neutral %] into the columns section and [Question] and [Country] into rows as seen in the screenshot below. This will create a dual axis chart that will keep the neutral values separate.</p>
<figure>
<img src="images/C9%20Dual%20Axis.PNG" alt="Source: Dual Axis" /><figcaption aria-hidden="true">Source: Dual Axis</figcaption>
</figure>
<p>We will need to filter by [Answers] so as to remove all the null values – these are incomplete responses and hence should be removed from the findings as they would affect the percentages. At the same time, we will add [QUESTION] to the filter and select ‘show’. This will allow you to select the difference questions on the right – and the chart will respond dynamically to the selections. You can edit the appearance of the filter by choosing a drop down menu or a multi-select option.</p>
<figure>
<img src="images/C10%20Exclude%20Filter.PNG" alt="Source: Exclude Filter" /><figcaption aria-hidden="true">Source: Exclude Filter</figcaption>
</figure>
<p>In order to sort the countries by descending order to give a better visual representation, right click [Country] and select sort ‘Field’. Choose descending order, the appropriate field name (in your case [Positive %] and aggregation by ‘Average’.</p>
<figure>
<img src="images/C11%20SORT.PNG" alt="Source: Sort" /><figcaption aria-hidden="true">Source: Sort</figcaption>
</figure>
<figure>
<img src="images/C12%20Colours.PNG" alt="Source: Colours" /><figcaption aria-hidden="true">Source: Colours</figcaption>
</figure>
<p>Lastly to complete this chart, we would want to improve the colour scheme by clicking on the ‘Colour’ icon. This will allow you to adjust the colours of the values. We have gone with the colour scheme seen in the screenshot below to give a more association towards similar values and darker colours to represent stronger opinions (agree or disagree).</p>
<h3 id="creating-the-error-bar-on-dot-plot">Creating the Error Bar on Dot Plot</h3>
<figure>
<img src="images/D1%20Error%20Plot.PNG" alt="Source: Error Plot" /><figcaption aria-hidden="true">Source: Error Plot</figcaption>
</figure>
<p>Next to create the error bar on dot plot for ‘Strongly Agree’ responses, we would have to create a few calculated fields in order to identify the lower and upper limit for confidence intervals at 95 and 99%. We can first do this by creating calculated fields for Z-scores of 95 and 99 as seen in the screen shot below.</p>
<figure>
<img src="images/D2%20Zscores.png" alt="Source: ZScores" /><figcaption aria-hidden="true">Source: ZScores</figcaption>
</figure>
<p>To calculate the proportion of ‘Strongly agree’ responses, we will create a calculate field [C – Strongly Agree] using the formula “IF [Score]=5 THEN 1, ELSE 0”.</p>
<p>Using this we can identify the percentage proportion by using the next calculated field formulate “SUM([C - Strong Agree ])/SUM({Exclude [Answer]: SUM([Number of Records Ref])})”. Next we can create the [C – Prop_SE], [C-Prop Margin 99] and [C – Prop Margin 95] using the calculated fields seen in the screenshot below to identify lower and upper limit.</p>
<figure>
<img src="images/D3%20Prop%20SE.png" alt="Source: Prop SE" /><figcaption aria-hidden="true">Source: Prop SE</figcaption>
</figure>
<p>The final 2 calculated fields we want to create for this step is the lower and upper bounds of the 95 confidence interval – so that we can create a line across the bubble plot to demonstrate the interval. We can do this by simply using the codes “[C - Prop] - [C - Prop Margin 95]” and “[C - Prop] + [C - Prop Margin 95].</p>
<figure>
<img src="images/D4%20Plot1.PNG" alt="Source: Plot1" /><figcaption aria-hidden="true">Source: Plot1</figcaption>
</figure>
<p>To plot the error bar, we will need to create a dual axis chart. We do this by moving the [C-Prop], [C-upper] and [C-lower] fields create earlier into the columns section and [Question] into rows.</p>
<p>Similar to the steps for the diverging bar chart, we will want to filter by [Question] and [Answer]. The dual axis chart will look similar to the screenshot above.</p>
<figure>
<img src="images/D5%20Path.PNG" alt="Source: Line" /><figcaption aria-hidden="true">Source: Line</figcaption>
</figure>
<p>In order to change the lower and upper limits into a line bar, we can click on “Measure Values” and select the line chart option. We will also need to click on “Path” and select the third option for “Line Type” in order to obtain the line bar as seen in the photo above.</p>
<figure>
<img src="images/D6%20Dual%20Axis.PNG" alt="Source: Dual Axis" /><figcaption aria-hidden="true">Source: Dual Axis</figcaption>
</figure>
<p>Next, right click on the axis on the second chart and select ‘Dual Axis’ in order to combine both charts. Effectively, these collapses both charts and overlays both the dot plot and line bar on top of each other.</p>
<figure>
<img src="images/D7%20Syncrhonise.PNG" alt="Source: Synchronizing the axis" /><figcaption aria-hidden="true">Source: Synchronizing the axis</figcaption>
</figure>
<p>Right click on the same x-axis again and select synchronise axis in order to ensure that the charts are not distorted due to a difference in dimensions on the axis. The error bar on dot plot will not be complete.</p>
<h3 id="creating-the-waffle-chart">Creating the Waffle Chart</h3>
<figure>
<img src="images/e2%20age%20waffle.PNG" alt="Source: Waffle Chart" /><figcaption aria-hidden="true">Source: Waffle Chart</figcaption>
</figure>
<p>The additional waffle chart created for this visualisation is intended to provided additional demographic data in the tool tip – and serve as an alternative to to the typical bar chart which takes up more space as seen below.</p>
<figure>
<img src="images/E1%20Bar%20chart.PNG" alt="Source: Bar Chart" /><figcaption aria-hidden="true">Source: Bar Chart</figcaption>
</figure>
<p>In order to crate the waffle chart, we will first need to create a 10x10 template in an excel file. It should look like the screenshot below. Add this new data source. Once it is added, convert “Column” and “Row” to “Dimension” by right clicking on each.</p>
<figure>
<img src="images/E3%20Waffle%20Template.PNG" alt="Source: waffle Template" /><figcaption aria-hidden="true">Source: waffle Template</figcaption>
</figure>
<p>Next we will have to build the skeleton of the waffle chart by dragging the dimensions “Column” to column and “Rows” to rows. Select the “Square” chart in mark type and adjust the size by using the slider and dragging the bottom and right axis to resize.</p>
<figure>
<img src="images/E4%20Waffle%20skeleton.png" alt="Source: Waffle Skeletton" /><figcaption aria-hidden="true">Source: Waffle Skeletton</figcaption>
</figure>
<p>Next we need to prepare calculated fields for all the age groups. To do this we need to bin the different age groups by using the formula in the screenshot below. Repeat this for the other age groups (depending on the range you prefer).</p>
<figure>
<img src="images/E5%20age%20groups%20binning.PNG" alt="Source: Age Groups" /><figcaption aria-hidden="true">Source: Age Groups</figcaption>
</figure>
<p>We can now create a calculated field to calculate how much each proportion of the age group [A – AGER] is using the formula in the screen shot below.</p>
<figure>
<img src="images/E6%20Formula.PNG" alt="Source: Formula" /><figcaption aria-hidden="true">Source: Formula</figcaption>
</figure>
<p>To plot the chart, drag [A – AGER] to “Colour”, “Country”, “Employment Status” and “Question” to Column and “Answer” to Row. Similar to previous steps, use the filter option on “Answer” and “Question” in order to remove null values and reflect the desired data relating to the target question. Edit the colours of the Waffle Chart using the option found in Marks. We have opted to use a greyscale to reflect the different age groups.</p>
<h3 id="creating-the-dashboard">Creating the Dashboard</h3>
<figure>
<img src="images/F1%20Chart.PNG" alt="Source: Dashboard" /><figcaption aria-hidden="true">Source: Dashboard</figcaption>
</figure>
<p>Finally, to plot the dashboard, select “New Dashboard” and set resolution to Custom Size (1000 x 1000). We will be adding three worksheets (Diverging Bar Chart, Error Bar and Waffle) to the dashboard.</p>
<figure>
<img src="images/F2%20Select%20Worksheets.PNG" alt="Source: Worksheets" /><figcaption aria-hidden="true">Source: Worksheets</figcaption>
</figure>
<p>An important step to make is to ensure that all the worksheets are linked so that all charts reflect the data relating to the question selected. This is important because the results used in the second chart is derived from the first. To do this, right click on the filter and apply the data sets to the selected worksheets as seen in the screenshot below.</p>
<figure>
<img src="images/F3%20Tooltip.PNG" alt="Source: Tooltip" /><figcaption aria-hidden="true">Source: Tooltip</figcaption>
</figure>
<p>We will also need to add a tooltip in order for the waffled chart to be displayed when the reader hovers over the Diverging Bar Chart. To do this, navigate back to the first worksheet and click on the Tooltip selection in Marks. Insert the worksheet which the Waffle Chart is named in order to create the tooltip. <img src="images/F4%20Cosmetic.PNG" alt="Source: Cosmetic" /></p>
<p>Lastly, layout the charts onto the dashboard as seen the screenshot above. We have chosen put both charts on top of each other instead of side-by-side due to the wider aspect of dual-axis charts. From here, cosmetic changes can be made to the titles and axis titles / legends by double-clicking on them.</p>
<h1 id="analysis">#5 Analysis</h1>
<h2 id="asian-countries-south-korea-singapore-and-japan-less-pro-covid-19-vaccine">5.1 Asian Countries, South Korea, Singapore and Japan less pro-COVID-19 vaccine?</h2>
<figure>
<img src="images/G1%20Asian.PNG" alt="Source: Pro Vaccine?" /><figcaption aria-hidden="true">Source: Pro Vaccine?</figcaption>
</figure>
<p>Asian countries like South Korea, Singapore and Japan appeared to be less pro vaccine, with 34, 29 and 25% of their respondents stating that they would strongly agree to taking the vaccine within a year from now, if it becomes available to them.</p>
<p>While they felt less strongly towards the vaccine, they were also less likely to disagree with the vaccine (Singapore’s 8% strongly disagreeing compared to Germany’s 23%). At the same time, there is a greater proportion of neutral respondents from these countries, suggesting that they could be persuaded if circumstances change or if there was a greater public communications drive to do so. Comparatively, countries with high number of cases and death rates have greater responses.</p>
<h2 id="worried-about-the-potential-side-effects-of-the-vaccine.">5.2 Worried about the potential side-effects of the vaccine.</h2>
<figure>
<img src="images/G2%20Worried%20abou%20the%20side%20effects%20female.png" alt="Source: Potential Side Effects" /><figcaption aria-hidden="true">Source: Potential Side Effects</figcaption>
</figure>
<p>Respondents France, Spain, Japan and Singapore were the top countries in terms of those who were most worried about the potential side effects of the vaccine.</p>
<figure>
<img src="images/G2%20Gov%20will%20provide.PNG" alt="Source: Gov" /><figcaption aria-hidden="true">Source: Gov</figcaption>
</figure>
<p>This is interesting as more than 60% of Singaporeans agreed that the Government would provide them with an effective COVID-19 vaccine (with less than 10% disagreeing otherwise).</p>
<p>Additionally, female respondents tended to respond strongly to agree that they were worried about than male respondents the potential side effects of the vaccine. This is tracked at the 95% CI limits as seen in the chart above.</p>
<h2 id="older-singaporeand-who-are-unemployed-may-be-at-risk">5.3 Older Singaporeand who are unemployed may be at risk</h2>
<figure>
<img src="images/G4%20govwillprovidevaccine.png" alt="Source: Waffle" /><figcaption aria-hidden="true">Source: Waffle</figcaption>
</figure>
<p>Based on the waffle chart, the proportion of older Singaporeans in Singapore who were unemployed were more likely to strongly disagree that the Government would provide them with an effective COVID-19 vaccine.</p>
<figure>
<img src="images/G4%20worriedgetcovid19.png" alt="Source: Waffle2" /><figcaption aria-hidden="true">Source: Waffle2</figcaption>
</figure>
<p>They were also more likely to strongly agree about the side effects of the COVID-19 vaccine and they strongly disagreed with getting vaccinated if it were available to them within a year.</p>
<figure>
<img src="images/G4%20worriedgetcovid19.png" alt="Source: Waffle3" /><figcaption aria-hidden="true">Source: Waffle3</figcaption>
</figure>
<p>Conversely the proportion of respondents who were younger Singaporeans who were also unemployed were more worried about getting COVID-19.</p>
<h2 id="low-response-rates-may-affect-results">5.4 Low Response Rates May Affect Results</h2>
<figure>
<img src="images/G5%20Error%20Bar.PNG" alt="Source: Low Response Rates" /><figcaption aria-hidden="true">Source: Low Response Rates</figcaption>
</figure>
<p>For the survey question, I am worried about getting COVID-19, Israel’s results are strongly pro-vaccine, with about 55% of respondents stating that they intended to get the vaccine within a year if it were avaialble to them. This puts them slightly behind the UK in terms of rankings.</p>
<p>However, due to the CI plot seen on the dot on line bar plot, we can identify that there is a very wide CI. This is because the number of respondents are low.</p>
<h1 id="references">#References:</h1>
<p>Rethinking the divergent stacked bar chart – placing the stronger views in the <a href="https://www.datarevelations.com/resources/rethinkingdivergent/">centre</a> Tableau Playbook – <a href="https://www.pluralsight.com/guides/tableau-playbook-waffle-chart">Waffle Chart</a></p>
<p>Thank you for reading up to this point!</p>
<p><em>This blog is a data visualisation assignment for the MITB programme at the Singapore Management University.</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
